<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Accordion</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="styles.css" rel="stylesheet" />
  </head>

  <body>
    <h2>Multi Select</h2>
    <ul class="accordion accordion--multi">
      <li class="accordion__item">
        <input class="accordion__input" type="checkbox" id="check1" />
        <label class="accordion__label" for="check1">Item 1</label>
        <div class="accordion__content">
          <p>
            lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua.
          </p>
        </div>
      </li>
      <li class="accordion__item">
        <input class="accordion__input" type="checkbox" id="check2" />
        <label class="accordion__label" for="check2">Item 2</label>
        <div class="accordion__content">
          <p>
            lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. lorem
            ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua. lorem ipsum
            dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
            incididunt ut labore et dolore magna aliqua. lorem ipsum dolor sit
            amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt
            ut labore et dolore magna aliqua.
          </p>
        </div>
      </li>
    </ul>

    <br />

    <h2>Single Select</h2>
    <ul class="accordion accordion--single">
      <li class="accordion__item">
        <input
          class="accordion__input"
          type="radio"
          name="accordion-radio"
          id="radio1"
        />
        <label class="accordion__label" for="radio1">Item 1</label>
        <div class="accordion__content">
          <p>
            lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua.
          </p>
        </div>
      </li>
      <li class="accordion__item">
        <input
          class="accordion__input"
          type="radio"
          name="accordion-radio"
          id="radio2"
        />
        <label class="accordion__label" for="radio2">Item 2</label>
        <div class="accordion__content">
          <p>
            lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. lorem
            ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua. lorem ipsum
            dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
            incididunt ut labore et dolore magna aliqua. lorem ipsum dolor sit
            amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt
            ut labore et dolore magna aliqua.
          </p>
        </div>
      </li>
    </ul>
    <script>
      let toggledRadioId = null;

      const inputs = document.querySelectorAll(".accordion__input");
      inputs.forEach((input) => {
        input.addEventListener("click", function (e) {
          const single = this.closest(".accordion--single");

          if (single) {
            const allSingleInputs =
              single.querySelectorAll(".accordion__input");

            allSingleInputs.forEach((singleInput) => {
              const singleContent = singleInput
                .closest(".accordion__item")
                .querySelector(".accordion__content");
              singleContent.style.maxHeight = "0";
            });

            this.checked = toggledRadioId !== this.id;
            toggledRadioId = toggledRadioId !== this.id ? this.id : null;
          }

          const content = this.closest(".accordion__item").querySelector(
            ".accordion__content"
          );
          content.style.maxHeight = this.checked
            ? content.scrollHeight + "px"
            : "0";
        });
      });
    </script>
  </body>
</html>
